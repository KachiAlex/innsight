# Deploy to Render Guide

## Prerequisites
1. Create a Render account at https://render.com
2. Connect your GitHub repository to Render

## Backend Deployment

### Option 1: Using render.yaml (Recommended)
1. Push the `render.yaml` file to your repository
2. In Render dashboard, click "New" → "Web Service"
3. Connect your GitHub repository
4. Render will automatically detect the `render.yaml` configuration
5. Configure environment variables:
   - `DATABASE_URL`: Your PostgreSQL connection string
   - `FIREBASE_PROJECT_ID`: innsight-2025
   - `FIREBASE_CLIENT_EMAIL`: Your Firebase service account email
   - `FIREBASE_PRIVATE_KEY`: Your Firebase service account private key
   - `JWT_SECRET`: Auto-generated by Render
   - `JWT_REFRESH_SECRET`: Auto-generated by Render

### Option 2: Manual Web Service
1. In Render dashboard, click "New" → "Web Service"
2. Connect your GitHub repository
3. Configure:
   - Name: innsight-backend
   - Environment: Docker
   - Docker Context: ./backend
   - Branch: main
   - Plan: Free
   - Health Check Path: /api/health

## Environment Variables Required
- `NODE_ENV`: production
- `PORT`: 8080
- `DATABASE_URL`: PostgreSQL connection string
- `FIREBASE_PROJECT_ID`: innsight-2025
- `FIREBASE_CLIENT_EMAIL`: Service account email
- `FIREBASE_PRIVATE_KEY`: Service account private key
- `JWT_SECRET`: Auto-generated
- `JWT_REFRESH_SECRET`: Auto-generated
- `PUBLIC_PORTAL_BASE_URL`: https://your-service-name.onrender.com

## Database Setup
1. In Render dashboard, click "New" → "PostgreSQL"
2. Name: innsight-db
3. Plan: Free
4. Once created, get the connection string and add it to your backend service environment variables

## Testing
After deployment:
1. Test health endpoint: https://your-service-name.onrender.com/api/health
2. Test API endpoints
3. Update frontend if needed with the correct backend URL

## Frontend
The frontend is already deployed to Firebase Hosting at:
https://innsight-2025.web.app

It's configured to use the Render backend at:
https://innsight-backend.onrender.com/api
